(this.webpackJsonpnotwitter=this.webpackJsonpnotwitter||[]).push([[0],{101:function(e,t,n){"use strict";n.r(t);var c=n(2),s=n.n(c),r=n(27),a=n.n(r),i=(n(82),n(23)),o=n(12),l=n(116),u=n(117),j=n(6),b=n(68),d=n.n(b),O="SIGN_UP",p="LOGIN",h="SIGN_OUT",m="GET_USER_DATA",f="NEW_POST_MOBILE_OPEN",x="NEW_POST_MOBILE_CLOSE",g="CURRENT_PAGE",v=n(3),y=function(){var e=Object(j.d)((function(e){return e.user.currentUser})),t=Object(j.d)((function(e){return e.global.currentPage})),n=Object(j.d)((function(e){return e.global.newPostIsOpen})),c=Object(j.c)(),r=Object(o.f)();return Object(v.jsx)("header",{className:"header",children:e?Object(v.jsxs)(s.a.Fragment,{children:[n?Object(v.jsx)(l.a,{onClick:function(){r.push("/notwitter"),c({type:g,payload:"Home"}),c({type:x})},children:Object(v.jsx)(d.a,{})}):Object(v.jsx)(u.a,{}),Object(v.jsx)("h3",{children:t})]}):Object(v.jsx)("h3",{children:"noTwitter"})})},w=n(20),N=n.n(w),S=n(30),P=function(e){var t=e.icon,n=e.title,c=e.path,s=e.isActive,r=e.func;return Object(v.jsx)("li",{className:"linkItem ".concat(s?"linkItem--isActive":""),onClick:r,children:Object(v.jsxs)(i.b,{to:c,children:[t," ",Object(v.jsx)("p",{children:n})]})})},I=n(69),_=n.n(I),E=n(70),U=n.n(E),D=n(71),k=n.n(D),A=n(40);n(99),n(100);A.a.initializeApp({apiKey:"AIzaSyB_LzO_cPoxv5uXPUx_VdVsHKM9WbTn0lo",authDomain:"notwitter-b1e9c.firebaseapp.com",projectId:"notwitter-b1e9c",storageBucket:"notwitter-b1e9c.appspot.com",messagingSenderId:"769546520504",appId:"1:769546520504:web:7802f06a5bb9745111314d",measurementId:"G-L3ZWLM4FNL"}),A.a.analytics();var T=A.a.auth(),L=A.a.firestore(),C=(A.a,function(){var e=Object(j.d)((function(e){return e.user.user})),t=Object(j.d)((function(e){return e.global.currentPage})),n=Object(j.c)();return e?Object(v.jsx)("header",{className:"menu",children:Object(v.jsx)("nav",{children:Object(v.jsxs)("ul",{children:[Object(v.jsx)(P,{path:"/notwitter",title:"Home",icon:Object(v.jsx)(_.a,{fontSize:"large"}),isActive:"Home"===t,func:function(){return n({type:g,payload:"Home"})}}),Object(v.jsx)(P,{path:"/profile",title:"Profile",icon:Object(v.jsx)(U.a,{fontSize:"large"}),isActive:"Profile"===t,func:function(){return n({type:g,payload:"Profile"})}}),Object(v.jsx)(P,{path:"/notwitter",title:"Log Out",func:Object(S.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.signOut().then((function(){localStorage.removeItem("notwitterUser"),localStorage.removeItem("notwitterCurrentUser"),n({type:h}),console.log("Signed out.")})).catch((function(e){console.log(e.code),console.log(e.message)}));case 2:case"end":return e.stop()}}),e)}))),icon:Object(v.jsx)(k.a,{fontSize:"large"})})]})})}):null}),q=function(){return Object(j.d)((function(e){return e.user.currentUser}))?Object(v.jsx)("aside",{className:"news"}):null},z=n(72),J=n.n(z),F=function(){var e=Object(j.c)();return Object(v.jsx)(l.a,{className:"newPostMobile",onClick:function(){e({type:g,payload:"New Post"}),e({type:f})},children:Object(v.jsx)(J.a,{fontSize:"large"})})},W=function(e){var t=e.title,n=e.type,c=e.cls;return Object(v.jsx)("button",{type:n,className:"btn ".concat(c||""),children:t})},B=function(){var e=Object(j.d)((function(e){return e.global.newPostIsOpen}));return Object(v.jsxs)("div",{className:"newPost ".concat(e?"newPost--isOpen":""),children:[Object(v.jsx)(u.a,{}),Object(v.jsxs)("form",{children:[Object(v.jsx)("textarea",{placeholder:"What's happening?",cols:"30",rows:"7",maxLength:"255"}),Object(v.jsx)(W,{type:"submit",title:"Post"})]})]})},H=n(73),M=n.n(H),G=function(e){e.title;return Object(v.jsxs)("article",{className:"post",children:[Object(v.jsx)("aside",{className:"post__avatar",children:Object(v.jsx)(u.a,{})}),Object(v.jsxs)("div",{className:"post__body",children:[Object(v.jsxs)("header",{className:"post__header",children:[Object(v.jsx)("h4",{className:"post__author",children:"msT"}),Object(v.jsx)("p",{className:"post__date",children:"20/02/21"}),Object(v.jsx)(l.a,{children:Object(v.jsx)(M.a,{})})]}),Object(v.jsx)("p",{children:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Unde labore, fuga ipsa voluptatum eligendi voluptate ratione hic, repudiandae velit provident aut harum iusto, facilis est doloribus! Quis error voluptates inventore quidem quos dignissimos sint laboriosam nesciunt repellat sit, harum voluptatum quasi minima exercitationem ullam dolores iusto facere dicta veniam accusantium!"}),Object(v.jsx)("img",{src:"https://www.pcgamesn.com/wp-content/uploads/2021/02/cyberpunk-2077-cyber-attack-580x334.jpg",alt:"https://www.pcgamesn.com/wp-content/uploads/2021/02/cyberpunk-2077-cyber-attack-580x334.jpg"})]})]})},$=function(){return Object(v.jsxs)("ul",{className:"postsList",children:[Object(v.jsx)(G,{title:"post"}),Object(v.jsx)(G,{title:"post"}),Object(v.jsx)(G,{title:"post"}),Object(v.jsx)(G,{title:"post"})]})},R=function(){return Object(v.jsxs)("div",{className:"home",children:[Object(v.jsx)(B,{}),Object(v.jsx)($,{})]})},K=n(21),V=function(e){var t=e.name,n=e.type,c=e.value,s=e.func,r=e.ph,a=e.required,i=e.err;return Object(v.jsxs)("div",{className:"input",children:[Object(v.jsxs)("label",{htmlFor:t,children:[t,a?"*":""]}),Object(v.jsx)("input",{className:i?"":"input--err",type:n,value:c,onChange:s,name:t,placeholder:r})]})},Q=function(){var e=Object(j.c)(),t=Object(c.useState)("Already registered?"),n=Object(K.a)(t,2),s=n[0],r=n[1],a=Object(c.useState)(""),o=Object(K.a)(a,2),l=o[0],u=o[1],b=Object(c.useState)(""),d=Object(K.a)(b,2),O=d[0],h=d[1],m=function(e){var t=e.target,n=t.name,c=t.value;"Email"===n&&u(c),"Password"===n&&h(c)},f=function(){var t=Object(S.a)(N.a.mark((function t(n){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,T.signInWithEmailAndPassword(l,O).then((function(t){e({type:p,payload:t.user.uid}),localStorage.setItem("notwitterUser",JSON.stringify(t.user.uid)),u(""),h("")})).catch((function(e){r(e.message)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){setTimeout((function(){r("Already registered?")}),3e3)}),[s]),Object(v.jsx)("div",{className:"form login",children:Object(v.jsxs)("form",{onSubmit:function(e){return f(e)},children:[Object(v.jsx)("p",{children:s}),Object(v.jsx)(V,{name:"Email",type:"text",value:l,func:function(e){return m(e)}}),Object(v.jsx)(V,{name:"Password",type:"password",value:O,func:function(e){return m(e)}}),Object(v.jsx)(i.b,{to:"signup",children:"Don't have an account?"}),Object(v.jsx)(W,{title:"Log In",type:"submit",cls:"formBtn"})]})})},X=function(){var e=Object(j.d)((function(e){return e.user.user}));return Object(v.jsx)("section",{className:"page main",children:e?Object(v.jsx)(R,{}):Object(v.jsx)(Q,{})})},Z=function(){var e=Object(o.f)(),t=Object(j.c)(),n=Object(c.useState)("Provide your details."),s=Object(K.a)(n,2),r=s[0],a=s[1],l=Object(c.useState)(""),u=Object(K.a)(l,2),b=u[0],d=u[1],p=Object(c.useState)(""),h=Object(K.a)(p,2),m=h[0],f=h[1],x=Object(c.useState)(""),g=Object(K.a)(x,2),y=g[0],w=g[1],P=Object(c.useState)(""),I=Object(K.a)(P,2),_=I[0],E=I[1],U=Object(c.useState)(""),D=Object(K.a)(U,2),k=D[0],A=D[1],C=Object(c.useState)(""),q=Object(K.a)(C,2),z=q[0],J=q[1];Object(c.useEffect)((function(){setTimeout((function(){a("Provide your details.")}),3e3)}),[r]);var F=function(e){var t=e.target,n=t.name,c=t.value;"Full name"===n&&d(c),"Display name"===n&&f(c),"Date of birth"===n&&w(c),"Email"===n&&E(c),"Password"===n&&A(c),"Confirm password"===n&&J(c)},B=function(){var n=Object(S.a)(N.a.mark((function n(){return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,T.createUserWithEmailAndPassword(_,k).then((function(n){var c=n.user.uid;console.log(c),L.collection("users").doc(c).set({fullName:b,displayName:m,dob:y,email:_,uid:c,createdAt:(new Date).toLocaleDateString()}),t({type:O,payload:c}),localStorage.setItem("notwitterUser",JSON.stringify(c)),d(""),f(""),w(""),E(""),A(""),J(""),e.push("/notwitter")})).catch((function(e){a(e.message),console.log(e.code),console.log(e.message)}));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(v.jsx)("section",{className:"page main",children:Object(v.jsx)("div",{className:"form signup",children:Object(v.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(){if(b.length<=6)a("Full name should be at least 6 characters.");else if(/^[a-z\s]+$/i.test(b))if(m.length<3)a("Display name should be at least 3 characters.");else if(y.length<8)a("Date of birth should contain 8 numbers.");else if(/^[0-9]+$/.test(y))if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(_))if(k!==z)a("Passwords not match.");else{if(!(k.length<6||z<6))return B();a("Password should contain at least 6 characters.")}else a("Invalid email.");else a("Date of birth should contain only numbers.");else a("Full name should contain only a letters.")}()},children:[Object(v.jsx)("p",{children:r}),Object(v.jsx)(V,{name:"Full name",type:"text",ph:"Joe Doe",value:b,func:function(e){return F(e)},required:!0,err:/^[a-z\s]+$/i.test(b)&&b.length>3}),Object(v.jsx)(V,{name:"Display name",type:"text",ph:"min 3 char",value:m,func:function(e){return F(e)},required:!0,err:m.length>=3}),Object(v.jsx)(V,{name:"Date of birth",type:"number",ph:"ddmmyyyy",value:y,func:function(e){return F(e)},required:!0,err:/^[0-9]+$/.test(y)&&8===y.length}),Object(v.jsx)(V,{name:"Email",type:"text",ph:"example@gmail.com",value:_,func:function(e){return F(e)},required:!0,err:/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(_)}),Object(v.jsx)(V,{name:"Password",type:"password",ph:"min 6 char",value:k,func:function(e){return F(e)},required:!0,err:k.length>=6&&k===z}),Object(v.jsx)(V,{name:"Confirm password",type:"password",ph:"min 6 char",value:z,func:function(e){return F(e)},required:!0,err:z.length>=6&&k===z}),Object(v.jsx)(i.b,{to:"/notwitter",children:"Already have an account?"}),Object(v.jsx)(W,{title:"Sign Up",type:"submit",cls:"formBtn"})]})})})},Y=function(){var e=JSON.parse(localStorage.getItem("notwitterCurrentUser")),t=e.fullName,n=e.displayName,c=e.dob,s=e.email,r=e.createdAt;return Object(v.jsx)("section",{className:"page profile",children:Object(v.jsxs)("div",{className:"profile__inner",children:[Object(v.jsxs)("h3",{children:["Hello ",Object(v.jsx)("span",{children:n})]}),Object(v.jsxs)("ul",{children:[Object(v.jsxs)("li",{children:[Object(v.jsx)("span",{children:"Full name:"}),Object(v.jsx)("span",{children:t})]}),Object(v.jsxs)("li",{children:[Object(v.jsx)("span",{children:"Display name:"}),Object(v.jsx)("span",{children:n})]}),Object(v.jsxs)("li",{children:[Object(v.jsx)("span",{children:"Email:"}),Object(v.jsx)("span",{children:s})]}),Object(v.jsxs)("li",{children:[Object(v.jsx)("span",{children:"Date of birth:"}),Object(v.jsx)("span",{children:c})]}),Object(v.jsxs)("li",{children:[Object(v.jsx)("span",{children:"Joined at:"}),Object(v.jsx)("span",{children:r})]})]})]})})};var ee=Object(j.b)(null,{getUserData:function(){return function(){var e=Object(S.a)(N.a.mark((function e(t,n){var c,s,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n(),s=c.user,r=L.collection("users").doc(s.user),e.next=4,r.get().then((function(e){e.data()?(t({type:m,payload:e.data()}),localStorage.setItem("notwitterCurrentUser",JSON.stringify(e.data()))):console.log("No such document.")})).catch((function(e){console.log(e.code),console.log(e.message)}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}})((function(e){var t=e.getUserData,n=Object(j.d)((function(e){return e.user.user})),s=localStorage.getItem("notwitterUser"),r=Object(j.c)();return Object(c.useEffect)((function(){s&&r({type:p,payload:JSON.parse(s)})}),[n,r,s]),Object(c.useEffect)((function(){n&&t()}),[t,n]),Object(v.jsxs)("div",{className:"app",children:[Object(v.jsx)(C,{}),Object(v.jsxs)("main",{className:"container",children:[Object(v.jsx)(y,{}),Object(v.jsxs)(o.c,{children:[Object(v.jsx)(o.a,{exact:!0,path:"/noTwitter",component:X}),Object(v.jsx)(o.a,{path:"/noTwitter/signup",component:Z}),Object(v.jsx)(o.a,{path:"/noTwitter/profile",component:Y})]})]}),n?Object(v.jsx)(F,{}):null,Object(v.jsx)(q,{})]})})),te=n(28),ne=n(74),ce=n(75),se=n(14),re={currentPage:"Home",newPostIsOpen:!1},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(se.a)(Object(se.a)({},e),{},{currentPage:t.payload});case f:return Object(se.a)(Object(se.a)({},e),{},{newPostIsOpen:!0});case x:return Object(se.a)(Object(se.a)({},e),{},{newPostIsOpen:!1});default:return e}},ie={user:null,currentUser:null},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:case p:return Object(se.a)(Object(se.a)({},e),{},{user:t.payload});case h:return Object(se.a)(Object(se.a)({},e),{},{user:null,currentUser:null});case m:return Object(se.a)(Object(se.a)({},e),{},{currentUser:t.payload});default:return e}},le=Object(te.combineReducers)({user:oe,global:ae}),ue=[ne.a],je=Object(te.createStore)(le,Object(ce.composeWithDevTools)(te.applyMiddleware.apply(void 0,ue)));a.a.render(Object(v.jsx)(s.a.StrictMode,{children:Object(v.jsx)(j.a,{store:je,children:Object(v.jsx)(i.a,{children:Object(v.jsx)(ee,{})})})}),document.getElementById("root"))},82:function(e,t,n){}},[[101,1,2]]]);
//# sourceMappingURL=main.0a4f2bae.chunk.js.map